# Kontakte importieren

Die manuelle Eingabe von großen Datenmengen kann sehr mühsam sein. Daher können in CiviCRM Kontaktdaten aus externen Quellen automatisch importiert werden. Ein Import von Daten wird in unterschiedlichen Zusammenhängen benötigt. Zum einen lassen sich Datenbestände aus externen Quellen in CiviCRM über einen Datenimport einfach einpflegen. So können beispielsweise Kontakte aus externen Datenbanken oder Tabellen in CiviCRM importiert werden. Dabei ist es möglich sowohl **CSV-Dateien** als auch Daten, die auf dem gleichen Server liegen, mittels einer **SQL-Abfrage** (für die allerdings Administrationskenntnisse erforderlich sind) zu importieren. Zum anderen können Adressaktualisierungen aus zuvor exportierten Listen wieder eingespielt werden, wie im vorangegangenen Kapitel angedeutet wurde.

Welche vorbereitenden Maßnahmen im Zuge eines Datenimports durchzuführen sind und welche Regeln bei dem Import von Daten beachtet werden sollten, ist ausführlich im [englischsprachigen Handbuch](https://docs.civicrm.org/user/en/latest/) nachzulesen. Im Folgenden sind nun die vier Schritte zum Import von Kontakte über die CSV-Datei dargestellt.

Um Kontakte zu importieren wird **Kontakte >> Kontakte importieren** in der Navigationsleiste ausgewählt. In Schritt eins **Datenquelle wählen** muss „CSV“ ausgewählt werden. In Abhängigkeit davon verändert sich die Maske, mit der dann die CSV-Datei ausgewählt wird. In der Bearbeitungsmaske werden weitere Importoptionen angeboten. So kann mittels einer Check-Box angegeben werden, ob die erste Zeile der CSV-Datei Spaltenüberschriften enthält. Die Durchführung einer Dublettenerkennung und welche Maßnahmen ergriffen werden, wenn Duplikate gefundenen werden, kann ebenfalls ausgewählt werden. Zudem ist es an dieser Stelle möglich eine zuvor gespeicherte Feldzuordnung aus dem Dropdown-Menü auszuwählen bzw. beim ersten Import aus einer neuen Datenquelle die verwendete Zuordnung (Mapping) zu speichern, indem **Speichern Sie diese Feldzuordnung** angeklickt wird.

Schritt zwei **Felder zuordnen** umfasst das Mapping der Spalten bzw. Felder der Quelldatei auf CiviCRM-Felder. Zuvor sollte sicher gestellt werden, dass die CSV-Datei richtig strukturiert ist. CiviCRM speichert beispielsweise Vor- und Nachnamen, sowie PLZ und Ort in separaten Feldern. Die Inhalte sollten also in der CSV-Datei in einzelnen Spalten vorliegen. Dabei ist die Reihenfolge der Spalten in der CSV-Datei entscheidend, wenn z.B. mehrere Standorte angegeben sind. In dem Fall wird der erste Standort als primäre Adresse angegeben. Auch die Vergabe einer eindeutigen ID ist an dieser Stelle vorzunehmen, nicht nur, wenn Daten aus einer Tabelle in mehreren Importen in CiviCRM eingepflegt werden.

Die Feldzuordnung kann in Schritt zwei manuell vorgenommen werden. Sofern in Schritt eins eine gespeicherte Feldzuordnung ausgewählt wurde, wird die Auswahl in Schritt zwei wiedergegeben. Diese Auswahl kann verändert werden, falls sie für den aktuellen Import nicht passend ist und im Anschluss gespeichert werden, sofern die Zuordnung erhalten bleiben soll. Sind in der importierten CSV-Datei Spaltenüberschriften angegeben, erscheinen diese in der ersten Spalte auf der linken Seite der Feld-Karte. 

In den folgenden beiden Spalten werden die Inhalte der ersten beiden Reihen der importierten Daten abgebildet. Die vierte Spalte umfasst das CiviCRM-Feld. Über die Dropdown-Liste in der vierten Spalte können die passenden Feldbezeichnungen ausgewählt und zugeordnet werden.

Die **Vorschau** in Schritt drei ermöglicht die Überprüfung des Datenimports. Die Anzahl der zu importierenden Zeilen wird angegeben und die Feldübereinstimmungen können ermittelt werden. Eine Fehlermeldung informiert darüber, inwiefern einzelne Zeilen in der Tabelle die Anforderungen von CiviCRM nicht erfüllen. Über den **Download-Link Fehler** können die Fehler in der Datei vor dem Import behoben werden.

Am Ende der Bearbeitungsmaske kann ausgewählt werden, ob die importierten Kontakte zu einer bestehenden oder einer neuen Gruppe hinzugefügt, oder mit einem Tag versehen werden sollen. Die Markierung der importierten Daten hat den Vorteil, dass der Import schnell und einfach wieder gefunden und dann ggf. gelöscht werden kann, falls dies nötig ist. 
Im vierten Schritt **Zusammenfassung** werden die erfolgreichen Importe, sowie die doppelten Kontakte und Fehler dargestellt. Wenn die Kontakte zu einer Gruppe zusammengefasst oder mit einem Tag versehen wurden, können sie leicht aufgerufen werden. Eine Überprüfung der Datensätze im Anschluss an den Import stellt sicher, dass alle Datensätze so in CiviCRM überführt wurden, wie vorgesehen.

Der Import von relationalen Daten ist im [englischsprachigen Leitfaden](https://docs.civicrm.org/user/en/latest/common-workflows/importing-data-into-civicrm/) anschaulich dargestellt. Auf die Erläuterungen zum Import von Datenobjekten, wie Spenden oder Beziehungen, wird an dieser Stelle verzichtet, da die Darstellung zu umfangreich wäre. In jedem Fall zu beachten ist auch beim Import von Datenobjekten, dass eine eindeutige Zuordnung der Objekte über die Civi-ID in der Kontakt-ID-Spalte sichergestellt werden muss.
